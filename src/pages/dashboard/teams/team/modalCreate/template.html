<div>
  <modal :title="text.title" effect="fade" width="800" v-model="showModal" @closed="closed">

    <form id="createTeam1" class="row" v-if="step == 1" >

      <div class="col-sm-offset-2 col-sm-8">


        <uploader
          refs="teams"
          v-model="model.avatar"
        ></uploader>


        <bs-input
          label="Name"
          v-model="model.name"
          v-validate.initial="'required'"
          data-vv-scope="modals"
          name="name"
          class="col-xs-12 mt10"
          :error="makeError('name', 'modals')"
        ></bs-input>


        <bs-input
          type="email"
          label="Email"
          v-model="model.email"
          v-validate.initial="'required|email'"
          data-vv-scope="modals"
          name="email"
          class="col-xs-12"
          :error="makeError('email', 'modals')"
        ></bs-input>

        <bs-input
          label="Url"
          v-model="model.url"
          v-validate.initial="'url'"
          data-vv-scope="modals"
          name="url"
          class="col-xs-12"
          :error="makeError('url', 'modals')"
        ></bs-input>

      </div>

    </form>

    <form id="createTeam2" class="row" v-if="step == 2">

      <h5 class="col-xs-12">Choose the users for the team
        <small>(You can choose later.)</small>
      </h5>

      <div class="col-xs-12">
        <typeahead
          placeholder="What is the email account to new member? "
          async-key="items"
          :async="URL"
          :template="templateMembers"
          :on-hit="memberSelected"
        ></typeahead>
     </div>
     <hr/>

      <div class="col-xs-12 mt10 text-right">

        <ul class="list-group mt20">
          <li class="list-group-item" v-for="member in model.members">
            <button class="btn btn-danger btn-xs pull-left" @click.stop="deleteUser(member)">
              <i class="fa fa-minus-circle" aria-hidden="true"></i>
            </button>

            {{member.name}} - <small>{{member.email}}</small>

            <button-group v-model="member.role" type="warning">
              <bs-radio :selected-value="1">Read</bs-radio>
              <bs-radio :selected-value="3">Write</bs-radio>
              <bs-radio :selected-value="7">Admin</bs-radio>
            </button-group>
          </li>
        </ul>

      </div>

    </form>

    <div slot="modal-footer" class="modal-footer">
      <button type="button" class="btn btn-default" @click="closed">Cancel</button>
      <button type="button" class="btn btn-default" @click="previousMethod" v-if="previousValid">Previous</button>
      <button type="button" class="btn btn-primary" @click="nextMethod" v-if="forwardValid" :disabled="errors.any('modals')">Next</button>
      <button type="button" class="btn btn-primary" @click="actionClick" v-if="finalValid" :disabled="errors.any('modals')">Save</button>
    </div>

  </modal>
</div>
