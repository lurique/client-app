<div>

  <modal :title="text.title" effect="fade" width="800" v-model="showModal" @closed="closed" @opened="reset">

    <form class="row form-horizontal" @submit.prevent="createSave">

      <tabs v-model="tabShow" nav-style="tabs" justified class="col-xs-12">

        <!-- ================= General ================= -->
        <!-- ============================================== -->
        <tab header="General">
          <div class="row">

            <div class="col-xs-12">

              <bs-input class="mt20" form-type="horizontal" name="name" label="Name*" v-model="app.name"
                        v-validate.initial="'required'" :error="makeError('name')"></bs-input>

              <bs-input type="textarea" class="mt20" form-type="horizontal" name="description" label="Descripition"
                        v-model="app.description"
              ></bs-input>

              <div class="row">
                <div class="col-xs-3 text-right mt5">
                  <label>Third Party?</label>
                </div>
                <div class="col-xs-9">
                  <button-group v-model="own" type="primary">
                    <bs-radio selected-value="yes">Yes</bs-radio>
                    <bs-radio selected-value="no">No</bs-radio>
                  </button-group>
                </div>
              </div>

              <bs-input class="mt20" form-type="horizontal" name="provider" label="Provider"
                        v-model="app.provider"
              ></bs-input>

              <bs-input class="mt20" form-type="horizontal" name="endpoint" label="EndPoint"
                        v-model="app.endpoint"
              ></bs-input>

              <bs-input class="mt20" form-type="horizontal" name="healthcheck" label="HealthCheck"
                        v-model="app.healthcheck"
              ></bs-input>


            </div>

          </div>

        </tab>

        <!-- ================= Targets ================= -->
        <!-- ============================================== -->
        <tab header="Targets">
          <tab-servers @update="val => app.targets = val" ref="tab_servers" label="Target">
            <template slot="label">
              List all targets behond the loadbalance, using the form below to search in servers.
            </template>
            <template slot="footer"></template>
          </tab-servers>
        </tab>

        <!-- ================= Servers ================= -->
        <!-- ============================================== -->
        <tab header="Servers" :disabled="own == 'yes'">
          <tab-servers @update="val => app.servers = val" ref="tab_servers"></tab-servers>
        </tab>

        <!-- ================= System ================= -->
        <!-- ============================================== -->
        <tab header="System">
          <tab-system @update="val => app.system = val" ref="tab_system"></tab-system>
        </tab>

        <!-- ================= Tags ================= -->
        <!-- ============================================== -->
        <tab header="Tags">
          <tab-tags @update="val => app.tags = val" ref="tab_tags"></tab-tags>
        </tab>
      </tabs>

    </form>


    <div slot="modal-footer" class="modal-footer">
      <button type="button" class="btn btn-default" @click="closed">Cancel</button>
      <button type="button" class="btn btn-primary" @click="actionClick" :disabled="errors.any()">Save</button>
    </div>

  </modal>

</div>
