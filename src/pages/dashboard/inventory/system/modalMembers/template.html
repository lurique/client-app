<div>

  <modal :title="text.title" effect="fade" width="800" v-model="showModal" @closed="closed" @opened="reset">

    <form class="row form-horizontal" @submit.prevent="createSave">

      <tabs nav-style="tabs" justified class="col-xs-12">

        <!-- ================= Applications (LBs, Dbas e etc) ================= -->
        <!-- ============================================== -->
        <tab header="Applications, LoadBalancers, DataBases and more">
          <div class="row">
            <div class="col-xs-12">
              <p>Insert all components of your system, applications, database, cache servers and more.</p>
              <div class="col-xs-5">
                <bs-select :options="options.apps" v-model="type" name="type"
                           label="Component" v-validate.initial="'required'" :error="makeError('type')"></bs-select>

              </div>

              <div class="col-xs-7">
                <typeahead
                  label="Application"
                  placeholder="MyWebApp"
                  :async="URL"
                  async-key="items"
                  :onSearch="requestSearch"
                  :template="template_apps"
                  :on-hit="onHit"
                  class="col-xs-12"
                ></typeahead>
              </div>
            </div>

          </div>

          <div class="well row mt20">

            <ul v-if="value.length > 0" class="list-group">
              <li class="list-group-item row" v-for="item, i in value" :key="i">
                <div class="col-xs-10">
                  <b class="text-capitalize">{{item.name}}</b> <span v-if='item.environment'>({{item.environment}})</span>
                  <h5 class='ft15 inline'>
                    <bs-label type='default' v-if='item.spec'>{{item.spec.role}}</bs-label>
                  </h5>
                </div>

                <button class="btn btn-danger btn-xs pull-right" @click.prevent="deleteApp(i)"><i
                  class="fa fa-trash" aria-hidden="true"></i></button>
              </li>
            </ul>
            <span v-if="value.length <= 0" class="col-xs-12 text-center">None app selected</span>
            <bs-label v-if="value.length > 0" type="default">{{value.length}} Application<span
              v-if="value.length > 1">s</span></bs-label>
          </div>

        </tab>

      </tabs>

    </form>


    <div slot="modal-footer" class="modal-footer">
      <button type="button" class="btn btn-default" @click="closed">Cancel</button>
      <button type="button" class="btn btn-primary" @click="actionClick" :disabled="errors.any()">Save</button>
    </div>

  </modal>

</div>
