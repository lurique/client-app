<div>
  <div class="pb10">
    <header-view-entity :label="label" :name="model.name" @del="del" @edit="edit()" @acl="acl"></header-view-entity>
  </div>

  <div class="col-xs-12 mt10 row">
    <displayer class="col-sm-2 col-xs-4 mt20" v-for="item, i in viewDisplayer" :key="i" :type="item.type || 'info'" v-if="item.val">
      <h4 class="white">{{item.val}}</h4>
    </displayer>
  </div>

  <div class="col-xs-6">
    <info-view :data="filtered"></info-view>
  </div>

  <div class="col-xs-6">

    <creater-config-list label="Cluster/Server" :basket="list_servers" @edit="edit" :index="2" icons="fa-server">
      <template slot="view" scope="props">
        <b>{{props.item.hostname}}</b> <span v-if='props.item.os'>({{props.item.os.base}})</span>
        <span v-if="props.item.datacenters"> - {{props.item.datacenters.name}}</span>
        <router-link :to="{name: 'servers.single', params: { id: props.item._id }}"><i class="fa  fa-eye" aria-hidden="true"></i></router-link>
        <br/>
        <bs-label type='default'>{{props.item.ipv4_private}}</bs-label>
        <bs-label type='default'>{{props.item.ipv4_public}}</bs-label>
        <bs-label type='success'>{{props.item.role}}</bs-label>
        <bs-label type='success'>{{props.item.environment}}</bs-label>

        <div class="pull-right" v-if="model.provider">
          <button class="btn btn-success btn-xs" @click.prevent="callConfig(props.item)"><i
            class="fa  fa-cog" aria-hidden="true"></i> Manage DB (config, role)</button>
        </div>
      </template>
    </creater-config-list>

    <creater-config-list label="CDB" :basket="model.pdbs" @edit="edit" :index="3" icons="fa-briefcase" v-if="model.modal == 'oracle'">
      <template slot="view" scope="props">
        <b class="text-capitalize">{{props.item.name}}</b>
      </template>
    </creater-config-list>

    <creater-config-list label="System" :basket="model.system" @edit="edit" :index="4" icons="fa-briefcase">
      <template slot="view" scope="props">
        <b class="text-capitalize">{{props.item.name}}</b>
        <router-link :to="{name: 'system.single', params: { id: props.item._id }}"><i class="fa  fa-eye" aria-hidden="true"></i></router-link>
      </template>
    </creater-config-list>

    <creater-config-list label="Tag" :basket="model.tags" @edit="edit" :index="5" icons="fa-tags">
      <template slot="view" scope="props">
        <bs-label>{{props.item.key}}</bs-label> - {{props.item.value}}
      </template>
    </creater-config-list>

  </div>

  <modal-config class="mt15" ref="modal_config" :provider="model"></modal-config>
</div>
